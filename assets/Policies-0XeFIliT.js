import{j as e,C as p,u as j,a as g,r as d,f}from"./index-P07EYYl_.js";import{P as u,a as P,b as l,c as v,d as D,e as N,f as C}from"./pagination-BgGkxENi.js";import{i as w}from"./alerts-9iJ7Umz-.js";const b=({policy:a})=>e.jsxs(p,{className:"p-4 mb-4",children:[e.jsx("h2",{className:"text-lg font-bold",children:a.name}),e.jsxs("p",{children:["Type: ",a.type]}),e.jsxs("p",{children:["Premium: â‚¹",a.premium]}),e.jsxs("p",{children:["Renewal: ",a.renewalDate]}),w(a.renewalDate)&&e.jsx("p",{className:"text-red-500",children:"Renewal Due Soon!"})]}),M=()=>{const a=j(),{data:x,status:h,total:o}=g(s=>s.policies),[n,r]=d.useState(1),c=5,i=Math.max(1,Math.ceil((o??0)/c));return console.log("Total:",o),console.log(`totalPages ${i}`),d.useEffect(()=>{a(f({page:n,limit:c}))},[n,a]),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Policy Overview"}),h==="loading"&&e.jsx("p",{children:"Loading..."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(s=>e.jsx(b,{policy:s},s.id))}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(u,{children:e.jsxs(P,{children:[e.jsx(l,{children:e.jsx(v,{href:"#",onClick:s=>{s.preventDefault(),r(t=>Math.max(t-1,1))}})}),Array.from({length:i},(s,t)=>e.jsx(l,{children:e.jsx(D,{href:"#",isActive:n===t+1,onClick:m=>{m.preventDefault(),r(t+1)},children:t+1})},t)),i>3&&n<i-2&&e.jsx(l,{children:e.jsx(N,{})}),e.jsx(l,{children:e.jsx(C,{href:"#",onClick:s=>{s.preventDefault(),r(t=>Math.min(t+1,i))}})})]})})})]})};export{M as default};
